---
title: '[λ°±μ¤€/Gold2] 13459 κµ¬μ¬ νƒμ¶ - νμ΄μ¬'
date: 2022-05-18 17:09:00 +0900
categories: [Baekjoon]
tags: [baekjoon, gold2, κµ¬ν„, κ·Έλν”„ μ΄λ΅ , κ·Έλν”„ νƒμƒ‰, λ„λΉ„ μ°μ„  νƒμƒ‰, μ‹λ®¬λ μ΄μ…]
math: true
mermaid: true
---

![](/assets/images/banners/baekjoon_banner.png){: style="max-width: 100%"}

## [λ¬Έμ  ν™•μΈν•κΈ° β”](https://www.acmicpc.net/problem/13459){:target="_blank"}

## β­οΈ λ‚μ ν’€μ΄

1. `visited`λΌλ” 4μ°¨μ› λ°°μ—΄μ„ λ§λ“¤μ–΄ λ‘ κµ¬μ¬μ λ°©λ¬Έμ„ κΈ°λ΅ν•λ‹¤. λ‘ κµ¬μ¬μ μ„μΉλ” μ„λ΅ μΆ…μ†μ μΌλ΅ μ €μ¥λμ–΄μ•Ό ν•λ‹¤. μλ¥Ό λ“¤μ–΄, λ‹¨μν λΉ¨κ°„ κµ¬μ¬μ΄ (4, 5)λ¥Ό λ°©λ¬Έν–λ‹¤λ” κ²ƒκ³Ό νλ€ κµ¬μ¬μ΄ (6, 3)μ„ λ°©λ¬Έν• κ²ƒμ„ **"κ°κ°"** κΈ°λ΅ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, λΉ¨κ°„ κµ¬μ¬μ΄ (4, 5)μΌ λ•μ— νλ€ κµ¬μ¬μ΄ (6, 3)μ— μμ—μμ„ κΈ°λ΅ν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤. 
   
   λ§μ•½ κ°κ°μ κµ¬μ¬λ“¤μ΄ μμ‹ λ§μ `visited` μ΄μ°¨μ› λ°°μ—΄μ„ κ°€μ§„λ‹¤λ©΄ λ¬Έμ κ°€ μƒκΈ΄λ‹¤. μλ¥Ό λ“¤μ–΄, μ „μ— λΉ¨κ°„ κµ¬μ¬μ΄ (4, 5)λ¥Ό λ°©λ¬Έν•κ³  νλ€ κµ¬μ¬μ΄ (6, 3)μ„ λ°©λ¬Έν• μ μ΄ μλ‹¤κ³  ν•μ. μ΄ν›„ λΉ¨κ°„ κµ¬μ¬μ€ λ‹¤μ‹ (4, 5)λ¥Ό λ°©λ¬Έν•κ³  νλ€ κµ¬μ¬μ€ (1, 2)λ¥Ό λ°©λ¬Έν–λ‹¤κ³  ν•μ. μ£Όμ–΄μ§„ λ¬Έμ μ κ²½μ°μ—μ„λ” μ¶©λ¶„ν κ°€λ¥ν• μΌμ΄μ§€λ§, κ°κ° μ΄μ°¨μ› λ°°μ—΄μ„ κ°€μ§€κ³  μλ‹¤λ©΄ ν—μ©λμ§€ μ•μ„ κ²ƒμ΄λ‹¤. (λΉ¨κ°„ κµ¬μ¬μ΄ μ΄λ―Έ μ „μ— λ°©λ¬Έν–μ—κΈ° λ•λ¬Έμ—)

2. `go` ν•¨μλ¥Ό ν†µν•΄μ„ λ²½μ΄λ‚ κµ¬λ©μ„ λ§λ‚  λ•κΉμ§€ ν• λ°©ν–¥μΌλ΅ κ³„μ† μ΄λ™ν•λ„λ΅ ν–λ‹¤. `cnt`λ” μ–Όλ§λ‚ μ΄λ™ν–λ”μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.

3. νλ€ κµ¬μ¬μ΄ κµ¬λ©μ— λΉ μ§€μ§€ μ•μ€ κ²½μ°λ§ μƒκ°ν•λ©΄ λλ‹¤. κ·Έλ¦¬κ³  λΉ¨κ°„ κµ¬μ¬μ΄ λΉ μ§€κ² λλ©΄ μ¶λ ¥μ„ ν•κ³  λ§μΉλ©΄ λλ‹¤.

4. λΉ¨κ°„ κµ¬μ¬μ΄ κµ¬λ©μ— λΉ μ§€μ§€ μ•κ³  λΉ¨κ°„ κµ¬μ¬κ³Ό νλ€ κµ¬μ¬μ΄ λ©μ¶ μ„μΉκ°€ κ°™λ‹¤λ©΄ μ΄λ¥Ό μμ •ν•΄μ¤μ•Ό ν•λ‹¤. λΉ¨κ°„ κµ¬μ¬μ μ΄λ™ κ±°λ¦¬κ°€ λ” μ§§λ‹¤λ©΄ λΉ¨κ°„ κµ¬μ¬μ΄ λ¨Όμ € λ„μ°©ν–μ—κΈ° λ•λ¬Έμ— νλ€ κµ¬μ¬μ€ λ°λ€ λ°©ν–¥μΌλ΅ ν• λ² λ¬Όλ¬λ‚μ•Ό ν•λ‹¤. νλ€ κµ¬μ¬μ μ΄λ™ κ±°λ¦¬κ°€ λ” μ§§μ€ κ²½μ°λ„ νλ€ κµ¬μ¬μ΄ λ¨Όμ € λ„μ°©ν• κ²ƒμ΄κΈ° λ•λ¬Έμ— λΉ¨κ°„ κµ¬μ¬μ΄ ν• λ² λ¬Όλ¬μ„μ•Ό ν•λ‹¤.

5. λ°©λ¬Έ κΈ°λ΅μ„ ν™•μΈν•κ³ , λ°©λ¬Έν• μ μ΄ μ—†μΌλ©΄ κ°±μ‹ μ„ ν•κ³  νμ— λ‹¤μ‹ λ„£λ”λ‹¤.

## μ½”λ“

```python
import sys
from collections import deque

input = sys.stdin.readline


dx = (1, 0, -1, 0)
dy = (0, 1, 0, -1)


def main():
    n, m = map(int, input().split())
    matrix = [list(input().strip()) for _ in range(n)]
    visited = [[[[False] * m for _ in range(n)] for _ in range(m)] for _ in range(n)] # λ°©λ¬Έ κΈ°λ΅μ„ μ €μ¥

    red_y, red_x, blue_y, blue_x = 0, 0, 0, 0

    for i in range(n):
        for j in range(m):
            if matrix[i][j] == "R":
                matrix[i][j] = "."
                red_y = i
                red_x = j
            if matrix[i][j] == "B":
                matrix[i][j] = "."
                blue_y = i
                blue_x = j

    def go(y, x, dy, dx):
        cnt = 0

        while matrix[y + dy][x + dx] != "#" and matrix[y][x] != "O": # λ‹¤μμ— λ²½μ„ λ§λ‚κ±°λ‚ ν„μ¬κ°€ κµ¬λ©μ΄ μ•„λ‹ λ• κΉμ§€
            y += dy
            x += dx
            cnt += 1

        return (y, x, cnt)

    def bfs(start):
        que = deque()
        que.append(start)

        while que:
            red_y, red_x, blue_y, blue_x, cnt = que.popleft()

            if cnt == 10: # 10λ² μ΄κ³ΌμΈ κ²½μ°μ—λ” λ”μ΄μƒ μ§„ν–‰ν•μ§€ μ•λ”λ‹¤
                continue

            for i in range(4):
                nred_y, nred_x, red_cnt = go(red_y, red_x, dy[i], dx[i])
                nblue_y, nblue_x, blue_cnt = go(blue_y, blue_x, dy[i], dx[i])

                if matrix[nblue_y][nblue_x] != "O": # νλ€ κµ¬μ¬μ΄ λΉ μ§€λ” κ²½μ°λ” μ μ™Έ
                    if matrix[nred_y][nred_x] == "O": # λΉ¨κ°„ κµ¬μ¬μ΄ λΉ μ§€λ” κ²½μ°
                        print(1)
                        return

                    # μƒλ΅μ΄ μ„μΉλ“¤μ΄ κ²ΉμΉλ” κ²½μ°, μ΅°μ •
                    if nred_y == nblue_y and nred_x == nblue_x:
                        if red_cnt < blue_cnt: # λΉ¨κ°„ κµ¬μ¬μ μ΄λ™μ΄ λ” μ§§μ€ κ²½μ° -> λΉ¨κ°„ κµ¬μ¬μ΄ λ¨Όμ € λ„μ°©
                            nblue_y -= dy[i]
                            nblue_x -= dx[i]
                        else:
                            nred_y -= dy[i]
                            nred_x -= dx[i]

                    if not visited[nred_y][nred_x][nblue_y][nblue_x]:
                        visited[nred_y][nred_x][nblue_y][nblue_x] = True
                        que.append([nred_y, nred_x, nblue_y, nblue_x, cnt + 1])

        print(0)

    visited[red_y][red_x][blue_y][blue_x] = True

    bfs([red_y, red_x, blue_y, blue_x, 0])


main()
```

> κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έ μ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π‘
{: .prompt-info }