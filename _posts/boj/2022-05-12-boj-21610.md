---
title: '[ë°±ì¤€/Gold5] 21610 ë§ˆë²•ì‚¬ ìƒì–´ì™€ ë¹„ë°”ë¼ê¸° - íŒŒì´ì¬'
date: 2022-05-12 18:00:00 +0900
categories: [Baekjoon]
tags: [baekjoon, gold5, êµ¬í˜„, ì‹œë®¬ë ˆì´ì…˜]
math: true
mermaid: true
---

![](/assets/images/banners/baekjoon_banner.png){: style="max-width: 100%"}

## [ë¬¸ì œ í™•ì¸í•˜ê¸° â”](https://www.acmicpc.net/problem/21610){:target="_blank"}

## â­ï¸ ë‚˜ì˜ í’€ì´

1. êµ¬ë¦„ì˜ ì›€ì§ì„ì„ ê³„ì‚°í•˜ëŠ” `move_dx`ì™€ `move_dy`ì˜ ì²˜ìŒì— 0ì„ ë„£ì–´ ì¸ë±ìŠ¤ ë²ˆí˜¸ 1ë¶€í„° ì ‘ê·¼í•˜ë„ë¡ í•˜ì˜€ë‹¤.

2. êµ¬ë¦„ì˜ ìƒˆë¡œìš´ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ê³  1ë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤. ê·¸ë¦¬ê³  ê·¸ ìƒˆë¡œìš´ ìœ„ì¹˜ë¥¼ ì €ì¥í•œë‹¤.

3. ë‹¤ì‹œ êµ¬ë¦„ë“¤ì˜ ìƒˆë¡œìš´ ìœ„ì¹˜ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ëŒ€ê°ì„  ë„¤ ë°©í–¥ì„ í™•ì¸í•œë‹¤. ë„¤ ë°©í–¥ì— ë¬¼ì´ ìˆëŠ” ë°”êµ¬ë‹ˆì˜ ê°¯ìˆ˜ë¥¼ ì„¸ê³  ê·¸ë§Œí¼ ë¬¼ì„ ì¦ê°€ì‹œí‚¨ë‹¤.

4. `tmp`ë¼ëŠ” ì„ì‹œ ë°°ì—´ì„ ë§Œë“¤ê³ , ì „ì²´ ê²©ìë¥¼ ìˆœíšŒí•˜ë©´ì„œ ë¬¼ì˜ ì–‘ì´ 2 ì´ìƒì¸ ê²½ìš°ì—ëŠ” `tmp`ì— ì¶”ê°€í•˜ê³  ë¬¼ì˜ ì–‘ì„ 2 ì¤„ì¸ë‹¤. ê¸°ì¡´ì˜ `clouds`ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ `clouds` ë°°ì—´ì„ ì´ˆê¸°í™”ì‹œí‚¤ë©´ ì•ˆëœë‹¤.

5. `clouds`ë¥¼ `tmp`ë¡œ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ êµ¬ë¦„ ë°°ì—´ì„ ê°€ì§€ê²Œ í•œë‹¤.

6. ì´ `m`ë²ˆ ìˆ˜í–‰í•œ í›„, ì´ ë¬¼ì˜ ì–‘ì„ ê³„ì‚°í•œë‹¤.

## ì½”ë“œ

```python
import sys

input = sys.stdin.readline

move_dx = (0, -1, -1, 0, 1, 1, 1, 0, -1) # 1ì´ ë§¨ ì²˜ìŒì„ ê°€ë¦¬í‚¤ë„ë¡ ë°°ì—´ì˜ ì²˜ìŒì— 0ì„ ë„£ì—ˆë‹¤
move_dy = (0, 0, -1, -1, -1, 0, 1, 1, 1)

rain_dx = (-1, 1, 1, -1)
rain_dy = (-1, -1, 1, 1)


def main():
    n, m = map(int, input().split())
    matrix = [list(map(int, input().split())) for _ in range(n)]
    moves = [list(map(int, input().split())) for _ in range(m)]

    clouds = [(n - 1, 0), (n - 1, 1), (n - 2, 0), (n - 2, 1)] # ì´ˆê¸°ì˜ êµ¬ë¦„

    for idx in range(m):
        d, s = moves[idx]

        for index, cloud in enumerate(clouds):
            y, x = cloud
            nx = (x + s * move_dx[d]) % n
            ny = (y + s * move_dy[d]) % n
            matrix[ny][nx] += 1
            clouds[index] = (ny, nx) # ìƒˆë¡œìš´ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™”

        for cloud in clouds:
            y, x = cloud
            cnt = 0
            for i in range(4):
                nx = x + rain_dx[i]
                ny = y + rain_dy[i]
                if 0 <= nx < n and 0 <= ny < n and matrix[ny][nx] != 0: # ì „ì²´ ê²©ìë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šê³  ë¬¼ì´ ìˆëŠ” ê²½ìš°
                    cnt += 1
            matrix[y][x] += cnt

        tmp = [] # ìƒˆë¡œìš´ êµ¬ë¦„ ë°°ì—´ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ì„ì‹œ ë°°ì—´

        for i in range(n):
            for j in range(n):
                if matrix[i][j] > 1 and (i, j) not in clouds:
                    tmp.append((i, j))
                    matrix[i][j] -= 2

        clouds = tmp # ìƒˆë¡œìš´ êµ¬ë¦„ ë°°ì—´

    answer = 0

    for i in range(n):
        for j in range(n):
            answer += matrix[i][j]

    print(answer)


main()
```

> ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘
{: .prompt-info }