---
title: '[ë°±ì¤€/Gold3] 20057 ë§ˆë²•ì‚¬ ìƒì–´ì™€ í† ë„¤ì´ë„ - íŒŒì´ì¬'
date: 2022-05-03 11:42:00 +0900
categories: [Baekjoon]
tags: [baekjoon, gold3, êµ¬í˜„, ì‹œë®¬ë ˆì´ì…˜]
math: true
mermaid: true
---

![](/assets/images/banners/baekjoon_banner.png){: style="max-width: 100%"}

## [ë¬¸ì œ í™•ì¸í•˜ê¸° â”](https://www.acmicpc.net/problem/20057){:target="_blank"}

## â­ï¸ ë‚˜ì˜ í’€ì´

í† ë„¤ì´ë„ê°€ ìƒí•˜ì¢Œìš°ë¡œ ì´ë™í•  ë•Œë§ˆë‹¤ í¼ì§€ëŠ” ëª¨ë˜ì˜ ë¹„ìœ¨ì´ ë‹¬ë¼ì§„ë‹¤. ì´ë¥¼ ìœ„í•œ ë¹„ìœ¨ ì €ì¥í•˜ëŠ” ë°©ì‹ê³¼ ì ‘ê·¼ ë°©ì‹ ê·¸ë¦¬ê³  íšŒì „ì„ ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€ë¥¼ ìƒê°í•´ë‚´ë©´ ë§ì´ ì–´ë ¤ìš´ ë¬¸ì œëŠ” ì•„ë‹ˆì—ˆë‹¤.

ê°ê°ì˜ ë°©í–¥ ë³„ë¡œ í¼ì§€ëŠ” ë¹„ìœ¨ì„ `rate_map`ì— ì €ì¥í•˜ì˜€ë‹¤. Î±ì˜ ê²½ìš°ëŠ” ë¹„ìœ¨ë¡œ ì´ë™í•˜ê³  ë‚¨ì€ ëª¨ë˜ë“¤ì´ ëª¨ë‘ ì´ë™í•˜ëŠ”ë°, í† ë„¤ì´ë„ê°€ ì´ë™í•œ ë°©í–¥ê³¼ ê°™ì€ ë°©í–¥ì— ìˆë‹¤. ì´ë¥¼ ì´ìš©í•´ì„œ Î±ì˜ ìœ„ì¹˜ì— ì ‘ê·¼í•˜ì˜€ë‹¤.

ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ `rate_dx`, `rate_dy`ë¥¼ ë§Œë“¤ì—ˆë‹¤. `rate_map`ì—ì„œ í˜„ì¬ì˜ ìœ„ì¹˜ê°€ (2, 2)ì„ì„ ê°€ì •í•˜ê³  ë§Œë“¤ì—ˆê³ , `rate_dx`, `rate_dy`ëŠ” ì—­ì‹œ ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë˜ê°€ ë‚ ì•„ê°ˆ ì¹¸ì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•œë‹¤. `rate_map`ì—ì„œ ì‹¤ì œ ë¹„ìœ¨ê°’ë“¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” (0, 0)ì„ ê¸°ì¤€ìœ¼ë¡œ ì ‘ê·¼í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— `[rate_dy[i] + 2][rate_dx[i] + 2]`ì™€ ê°™ì´ ì²˜ë¦¬í•´ì¤¬ë‹¤.

íšŒì „ì˜ ê²½ìš°ëŠ”, 2ë²ˆ ì´ë™ì— ì´ë™í•˜ëŠ” ì¹¸ì´ í•œ ì¹¸ì”© ëŠ˜ì–´ë‚œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‹œì‘ì ì—ì„œ 1ì¹¸ ì´ë™, 1ì¹¸ ì´ë™, 2ì¹¸ ì´ë™, 2ì¹¸ ì´ë™, 3ì¹¸ ì´ë™, 3ì¹¸ ì´ë™, 4ì¹¸ ì´ë™, 4ì¹¸ ì´ë™ ... ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ì¹¸ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤. `cnt` ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  í•˜ë‚˜ì”© ëŠ˜ë ¤ì£¼ë©´ì„œ 2ê°€ ë  ë•Œë§ˆë‹¤ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê³  ì´ë™í•´ì•¼ í•˜ëŠ” ì¹¸ì˜ ìˆ˜ë„ í•˜ë‚˜ ëŠ˜ë ¤ì£¼ì—ˆë‹¤.

## ì½”ë“œ

```python
import sys

input = sys.stdin.readline

rate_map = [
    # ì™¼ìª½
    [
        [0,     0,      0.02,   0,      0],
        [0,     0.1,    0.07,   0.01,   0],
        [0.05,  0,      0,      0,      0],
        [0,     0.1,    0.07,   0.01,   0],
        [0,     0,      0.02,   0,      0],
    ],
    # ì•„ë˜
    [
        [0,     0,      0,      0,      0],
        [0,     0.01,   0,      0.01,   0],
        [0.02,  0.07,   0,      0.07,   0.02],
        [0,     0.1,    0,      0.1,    0],
        [0,     0,      0.05,   0,      0],
    ],
    # ì˜¤ë¥¸ìª½
    [
        [0,     0,      0.02,   0,      0],
        [0,     0.01,   0.07,   0.1,    0],
        [0,     0,      0,      0,      0.05],
        [0,     0.01,   0.07,   0.1,    0],
        [0,     0,      0.02,   0,      0],
    ],
    # ìœ„
    [
        [0,     0,      0.05,   0,      0],
        [0,     0.1,    0,      0.1,    0],
        [0.02,  0.07,   0,      0.07,   0.02],
        [0,     0.01,   0,      0.01,   0],
        [0,     0,      0,      0,      0],
    ],
]

# ëª¨ë˜ê°€ ì´ë™í•  ì¹¸
rate_dx = (2, 1, 1, 0, 0, -1, -1, -2, -1, 0, 0, 1)
rate_dy = (0, 0, -1, -1, -2, -1, 0, 0, 1, 1, 2, 1)

dx = (-1, 0, 1, 0)
dy = (0, 1, 0, -1)


def main():
    n = int(input())
    matrix = [list(map(int, input().split())) for _ in range(n)]

    y, x = n // 2, n // 2
    d = 0 # ì™¼: 0 / ì•„ë˜: 1 / ì˜¤: 2 / ìœ„: 3
    length = 1 # ì´ë™í•  ì¹¸ì˜ ìˆ˜
    cnt = 0 # ëª‡ ë²ˆ ì´ë™í–ˆëŠ”ì§€ -> 2ì´ë©´ ë‹¤ì‹œ 0ìœ¼ë¡œ
    answer = 0

    while True:

        if (y, x) == (0, -1):
            break

        for _ in range(length):
            y += dy[d]
            x += dx[d]

            total_sand = matrix[y][x]
            matrix[y][x] = 0
            total_moved = 0
            for i in range(12): # í˜„ì¬ ì¹¸ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„ìœ¨ì„ ê³„ì‚°í•  ì¹¸ë“¤ì— ì ‘ê·¼
                nx = x + rate_dx[i] 
                ny = y + rate_dy[i]
                moving_sand = int(
                    total_sand * rate_map[d][rate_dy[i] + 2][rate_dx[i] + 2]
                )
                total_moved += moving_sand
                if 0 <= nx < n and 0 <= ny < n:
                    matrix[ny][nx] += moving_sand
                else:
                    answer += moving_sand
            # ê°™ì€ ë°©í–¥ìœ¼ë¡œ í•œ ë²ˆ ë” ì´ë™í•œ ì¹¸ì— ë‚¨ì€ ëª¨ë˜ê°€ ëª¨ë‘ ì´ë™í•œë‹¤
            ny = y + dy[d]
            nx = x + dx[d]
            moving_sand = total_sand - total_moved
            if 0 <= nx < n and 0 <= ny < n:
                matrix[ny][nx] += moving_sand
            else:
                answer += moving_sand

        d = (d + 1) % 4
        cnt += 1
        if cnt == 2:
            cnt = 0
            length += 1

    print(answer)


main()
```

> ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘
{: .prompt-info }