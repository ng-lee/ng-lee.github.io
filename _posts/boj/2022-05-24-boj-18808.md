---
title: '[λ°±μ¤€/Gold3] 18808 μ¤ν‹°μ»¤ λ¶™μ΄κΈ° - νμ΄μ¬'
date: 2022-05-24 21:20:00 +0900
categories: [Baekjoon]
tags: [baekjoon, gold3, κµ¬ν„, λΈλ£¨νΈν¬μ¤ μ•κ³ λ¦¬μ¦, μ‹λ®¬λ μ΄μ…]
math: true
mermaid: true
---

![](/assets/images/banners/baekjoon_banner.png){: style="max-width: 100%"}

## [λ¬Έμ  ν™•μΈν•κΈ° β”](https://www.acmicpc.net/problem/18808){:target="_blank"}

## β­οΈ λ‚μ ν’€μ΄

λ§μ€ for λ¬ΈμΌλ΅ μ‹κ°„ μ΄κ³Όμ— κ±Έλ¦΄ κ²ƒ κ°™μ§€λ§, λ¬Έμ μ—μ„ μ‹κ°„μ„ λ„‰λ„‰ν μ£Όλ” λ•λ¶„μ— μ‹κ°„ μ΄κ³Όκ°€ λ°μƒν•μ§€λ” μ•λ”λ‹¤.

ν•λ‚μ μ¤ν‹°μ»¤λ¥Ό κ°€μ§€κ³  μ „μ²΄ κ²©μλ¥Ό μ ‘κ·Όν•λ©΄μ„ μ¤ν‹°μ»¤λ¥Ό λ¶™μΌ μ μλ”μ§€ ν™•μΈν•λ‹¤. μ „μ²΄ κ²©μλ¥Ό ν™•μΈν• κ²°κ³Ό, λ¶™μΌ μ μλ” κ³µκ°„μ΄ μ—†λ‹¤λ©΄ 90λ„ νμ „ν•μ—¬ λ‹¤μ‹ μ²μλ¶€ν„° ν™•μΈν•΄λ³Έλ‹¤. μ΄ κ³Όμ •μ„ μ΄ 4λ² μ§„ν–‰ν•λ‹¤. (0λ„, 90λ„, 180λ„, 270λ„)

1. `check()` ν•¨μλ¥Ό ν†µν•΄μ„ λ…ΈνΈλ¶μ— μ¤ν‹°μ»¤λ¥Ό λ¶™μΌ μ μλ”μ§€ ν™•μΈν•λ‹¤. λ¶™μΌ μ μ—†λ” κ²½μ°λ” μ¤ν‹°μ»¤κ°€ λ…ΈνΈλ¶ λ°–μΌλ΅ λ‚κ°€λ” κ²½μ°κ±°λ‚ κ²©μμ— μ΄λ―Έ μ¤ν‹°μ»¤κ°€ μλ”λ° μ¤ν‹°μ»¤λ¥Ό λ¶™μΌλ ¤λ” κ²½μ°μ΄λ‹¤.

2. `solve()` ν•¨μλ¥Ό μ¬κ·€ ν•¨μ ν•νƒλ΅ μ ‘κ·Όν•μ—¬ μν–‰ν•λ‹¤. κ²©μ ν•λ‚ν•λ‚λ¥Ό μ ‘κ·Όν•λ©΄μ„ `check()` ν•¨μλ¥Ό ν†µν•΄ μ¤ν‹°μ»¤λ¥Ό λ¶™μΌ μ μλ”μ§€ ν™•μΈν•λ‹¤. λ¶™μΌ μ μλ‹¤λ©΄ λ…ΈνΈλ¶μ— μ¤ν‹°μ»¤λ¥Ό λ¶™μ΄κ³  κ·Έ μ¤ν‹°μ»¤μ— λ€ν• μ—°μ‚°μ„ λ§μΉλ‹¤.

3. λ¶™μΌ μ μ—†λ‹¤λ©΄ μ¤ν‹°μ»¤λ¥Ό 90λ„ νμ „μ‹ν‚¤κ³  `cnt`λ¥Ό ν•λ‚ μ¦κ°€μ‹μΌμ„ `solve()` ν•¨μμ— μ „λ‹¬ν•λ‹¤.

4. νμ „μ€ μ΄ 3λ² μ§„ν–‰ν•κΈ° λ•λ¬Έμ—, `cnt`κ°€ 4μΈ κ²½μ°μ—λ” μ¤ν‹°μ»¤λ¥Ό λ¶™μ΄μ§€ μ•κ³  λ‹¤μ μ¤ν‹°μ»¤λ΅ λ„μ–΄κ°„λ‹¤.

## μ½”λ“

```python
import sys

input = sys.stdin.readline


def main():
    n, m, k = map(int, input().split())
    matrix = [[0] * m for _ in range(n)]
    stickers = []
    for _ in range(k):
        a, b = map(int, input().split())
        stickers.append([list(map(int, input().split())) for _ in range(a)])

    def check(y, x, a, b, sticker):
        if not (y + a - 1 < n and x + b - 1 < m): # μ¤ν‹°μ»¤κ°€ λ…ΈνΈλ¶ λ°–μΌλ΅ λ‚κ°€λ” κ²½μ°
            return False

        for i in range(a):
            for j in range(b):
                if matrix[y + i][x + j] == 1 and sticker[i][j] == 1: # λ…ΈνΈλ¶μ— μλ” μ¤ν‹°μ»¤μ™€ κ²ΉμΉλ” κ²½μ°
                    return False

        return True # μ„ μ΅°κ±΄λ“¤μ— κ±Έλ¦¬μ§€ μ•μΌλ©΄ λ¶™μΌ μ μλ‹¤

    def solve(sticker, cnt):
        if cnt == 4: # μ΄ 3λ²μ νμ „μ„ μ§„ν–‰ν–λ”λ°λ„ λ¶™μΌ μ μ—†λ” κ²½μ°
            return

        a = len(sticker)
        b = len(sticker[0])

        for y in range(n):
            for x in range(m):
                if check(y, x, a, b, sticker): # μ¤ν‹°μ»¤λ¥Ό λ¶™μΌ μ μλ” κ²½μ°
                    for i in range(a):
                        for j in range(b):
                            matrix[y + i][x + j] += sticker[i][j]
                    return

        # μ „μ²΄ κ²©μλ¥Ό ν™•μΈν–λ”λ° μ¤ν‹°μ»¤λ¥Ό λ¶™μ΄μ§€ λ»ν• κ²½μ°
        # 90λ„ νμ „μ‹ν‚¤κ³  cnt κ°’μ„ ν•λ‚ μ¦κ°€μ‹ν‚¨λ‹¤
        sticker = [arr[::-1] for arr in zip(*sticker)]
        return solve(sticker, cnt + 1)

    for sticker in stickers:
        solve(sticker, 0)

    answer = 0

    for i in range(n):
        for j in range(m):
            answer += matrix[i][j]

    print(answer)


main()
```

> κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έ μ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π‘
{: .prompt-info }