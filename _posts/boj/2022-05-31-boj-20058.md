---
title: '[λ°±μ¤€/Gold4] 20058 λ§λ²•μ‚¬ μƒμ–΄μ™€ νμ΄μ–΄μ¤ν†° - νμ΄μ¬'
date: 2022-05-31 17:27:00 +0900
categories: [Baekjoon]
tags: [baekjoon, gold4, κµ¬ν„, κ·Έλν”„ μ΄λ΅ , κ·Έλν”„ νƒμƒ‰, λ„λΉ„ μ°μ„  νƒμƒ‰, μ‹λ®¬λ μ΄μ…, κΉμ΄ μ°μ„  νƒμƒ‰]
math: true
mermaid: true
---

![](/assets/images/banners/baekjoon_banner.png){: style="max-width: 100%"}

## [λ¬Έμ  ν™•μΈν•κΈ° β”](https://www.acmicpc.net/problem/20058){:target="_blank"}

## β­οΈ λ‚μ ν’€μ΄

90λ„ νμ „ κµ¬ν„μ™€ bfsκ°€ μ½λΌλ³΄λ¥Ό μ΄λ£¨λ” λ¬Έμ μ΄λ‹¤.

μ΄μ „μ 90λ„ νμ „ κµ¬ν„μ λ²”μ„λ” μ΄μ°¨μ› λ°°μ—΄ μ „μ²΄μ€μ§€λ§, μ΄λ² λ¬Έμ λ” μ΄μ°¨μ› λ°°μ—΄μ μΌλ¶€λ¶„μ΄μ—κΈ°μ— μ΄λ¥Ό κµ¬ν„ν•λ”λ°μ— μ• λ¨Ήμ—λ‹¤.

1. λ¨Όμ € `tmp` λ°°μ—΄μ— νμ „μ‹ν‚¬ λ¶€λ¶„ κ²©μλ¥Ό μ €μ¥ν• ν›„, μ΄ μ„μ‹ λ°°μ—΄μ„ νμ „μ‹ν‚¨λ‹¤. μ΄ν›„ λ¶€λ¶„ κ²©μ λ‚΄μ—μ„ ν•λ‚μ”© μ ‘κ·Όν•λ©΄μ„ `matrix`μ— `tmp`μ κ°’μ„ μ €μ¥ν•λ‹¤.

2. λ„¤ λ°©ν–¥μ„ ν™•μΈν•λ©΄μ„ μ–Όμμ΄ μλ” μΉΈμ„ ν™•μΈν•΄μ•Ό ν•λ”λ°, `matrix` λ°°μ—΄μ—μ„ ν™•μΈν•κ³  λ°”λ΅ `matrix` λ°°μ—΄μ μ–Όμμ μ–‘μ„ μ¤„μ΄κ² λλ©΄ μ΄ν›„μ— λ‹¤μ μ–Όμμ—μ„ ν™•μΈν•λ”λ°μ— λ¬Έμ κ°€ λ°μƒν•λ‹¤. λ”°λΌμ„ `matrix`μ™€ κ°™μ€ `check` λ°°μ—΄μ„ λ§λ“¤κ³ , `check` λ°°μ—΄μ„ ν™•μΈν•κ³  `matrix` λ°°μ—΄μ μ–Όμμ„ ν•λ‚ μ¤„μΈλ‹¤. (νΉμ€ λ„¤ λ°©ν–¥μ μ–Όμμ μλ¥Ό μ €μ¥ν•λ” λ°°μ—΄μ„ λ§λ“  ν›„μ— μ΄ λ°°μ—΄μ„ ν™•μΈν•λ©΄μ„ μ£Όμ„ μ–Όμμ μκ°€ 3κ° μ΄μƒμ΄ μ•λλ” κ²©μλ¥Ό μ¤„μ΄λ” λ°©λ²•λ„ μμ§€λ§, μ΄ κ²½μ°λ” μ‹κ°„ μ΄κ³Όκ°€ λ°μƒν•  μλ„ μλ‹¤.)

3. λ¨λ“  νμ „μ„ λ§μΉ ν›„μ—λ”, bfsλ¥Ό μ΄μ©ν•μ—¬ μ–Όμ λ©μ–΄λ¦¬λ“¤μ„ ν™•μΈν•λ‹¤. κ°κ°μ κ²©μλ¥Ό μ ‘κ·Όν•λ―€λ΅ μ΄λ•μ— μ–Όμμ ν¬κΈ°λ“¤λ„ λ”ν•΄μ¤€λ‹¤.

## μ½”λ“

```python
import sys
from copy import deepcopy
from collections import deque

input = sys.stdin.readline

dx = (1, 0, -1, 0)
dy = (0, 1, 0, -1)


def main():
    n, q = map(int, input().split())
    n = 2**n
    matrix = [list(map(int, input().split())) for _ in range(n)]
    steps = list(map(int, input().split()))

    for step in steps:
        s = 2**step
        for i in range(0, n, s):
            for j in range(0, n, s):
                tmp = [matrix[k][j : j + s] for k in range(i, i + s)] # νμ „μ‹ν‚¬ λ¶€λ¶„ κ²©μ
                tmp = [arr[::-1] for arr in zip(*tmp)] # νμ „
                for r in range(s):
                    for c in range(s):
                        matrix[i + r][j + c] = tmp[r][c] # matrix λ°°μ—΄μ— μ €μ¥

        check = deepcopy(matrix) # μ£Όμ„μ μ–Όμμ μ–‘μ„ ν™•μΈν•  λ°°μ—΄
        for y in range(n):
            for x in range(n):
                if matrix[y][x] != 0: # μ΄λ―Έ μ–Όμμ΄ μ—†λ” κ²©μλ” ν™•μΈν•  ν•„μ” μ—†λ‹¤
                    cnt = 0
                    for i in range(4):
                        ny = y + dy[i]
                        nx = x + dx[i]
                        if 0 <= nx < n and 0 <= ny < n and check[ny][nx] != 0: # check λ°°μ—΄μ—μ„ μ–Όμμ μ΅΄μ¬ μ—¬λ¶€ νλ‹¨
                            cnt += 1
                    if cnt < 3:
                        matrix[y][x] -= 1

    visited = [[0] * n for _ in range(n)]
    answer1, answer2 = 0, 0
    for i in range(n):
        for j in range(n):
            if matrix[i][j] != 0 and visited[i][j] == 0:
                que = deque()
                que.append((i, j))
                visited[i][j] = 1
                cnt = 1
                while que:
                    y, x = que.popleft()
                    answer1 += matrix[y][x] # μ–Όμμ ν¬κΈ° λ”ν•΄μ¤€λ‹¤
                    for k in range(4):
                        ny = y + dy[k]
                        nx = x + dx[k]
                        if (
                            0 <= nx < n
                            and 0 <= ny < n
                            and matrix[ny][nx] != 0
                            and visited[ny][nx] == 0
                        ):
                            visited[ny][nx] = 1
                            cnt += 1
                            que.append((ny, nx))
                answer2 = max(answer2, cnt)

    print(answer1)
    print(answer2)


main()
```

> κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έ μ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π‘
{: .prompt-info }